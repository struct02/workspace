function llp_update_progress_count(t,e){if(e&&e.length){var r=e.next(".load-count"),a=e.width()*t/100,o=a>r.width()?a-r.width():0,n=e.parent().hasClass("bottom")?"-100%":"100%";r.css("transform","translate("+o+"px, "+n+")")}}jQuery(window).bind("pageshow",function(t){if(t.originalEvent.persisted){var e=jQuery("body");e.length&&e.hasClass("leaves")&&e.removeClass("leaves"),e.length&&!e.hasClass("loaded")&&e.addClass("loaded")}}),function(t){var e=["jpg","jpeg","png","gif","mov","avi","mpg","3gp","3g2","midi","mid","pdf","doc","ppt","odt","pptx","docx","pps","ppsx","xls","xlsx","key","mp3","ogg","wma","m4a","wav","mp4","m4v","webm","ogv","wmv","flv","svg","svgz"];function r(r){if(r&&r.length){var a=r.attr("target"),o=r.attr("href");return(void 0===a||"_blank"!=a.toLowerCase())&&(n=r,p=t("#loftloader-wrapper"),l=n.attr("class"),s=l&&-1!==l.indexOf("ajax"),i=n.parent(".site-header-cart").length,x=!(!(x=p.attr("data-insite-transition-excluded"))||!t(x).length)&&t(x),!n.parent(".product-remove").length&&(x&&n.not(x).length||!x)&&void 0===n.attr("onclick")&&!s&&!i)&&o&&function(r){if(r){var a=!1,o=document.createElement("a"),n=document.createElement("a"),p=document.createElement("a");return p.href=r,n.href=window.location.href,o.href=t("#loftloader-wrapper").attr("data-site-url"),a=p.pathname.split(".").pop(),0===p.href.replace(/https?:\/\//i,"").indexOf(o.href.replace(/https?:\/\//i,""))&&"#"!=r.substr(0,1)&&!(n.pathname==p.pathname&&(p.hash||-1!==r.indexOf("#")))&&-1===e.indexOf(a)}return!1}(o)}var n,p,l,s,i,x;return!1}function a(e,r){var a=t("head").find("#"+e);(a=a.length?a:t("<style>").attr("id",e).html("").appendTo(t("head"))).html(r)}t.fn.llpHasAnyClass=function(e){var r=t(t(this)[0]),a=!1;return t.each(e,function(t,e){if(r.hasClass(e))return a=!0,!1}),a};var o=t("#loftloader-wrapper"),n="undefined"!=typeof loftloader_pro&&"on"==loftloader_pro.preview,p=n&&void 0!==parent.wp.customize.settings.settings.loftloader_pro_main_switch,l=n&&void 0===parent.wp.customize.settings.settings.loftloader_pro_main_switch,s=!!o.attr("data-load-time")&&parseFloat(o.attr("data-load-time")),i=!!s,x=!0;if(l&&t("#loftloader-preview-style-css").remove(),p&&(t("#loftloader-wrapper .percentage").length||t("#loftloader-wrapper .bar .load-count").length)){o=t("#loftloader-wrapper .percentage").length?t("#loftloader-wrapper .percentage"):t("#loftloader-wrapper .bar .load-count");var d=t("#loftloader-wrapper .bar");d.children(".load-count").length&&llp_update_progress_count(100,d.children(".load")),o.prop("percentage",0),t("body").hover(function(){o.prop("percentage",0).animate({percentage:100},{duration:2850,easing:"linear",step:function(e){t(this).text(Math.ceil(e)+"%"),t(this).hasClass("load-count")&&llp_update_progress_count(e,t(this).prev(".load"))}})},function(){o.stop(!0,!0).text("100%").prop("percentage",0),o.hasClass("load-count")&&llp_update_progress_count(100,o.prev(".load"))})}if(!n||l){var c=t("#loftloader-wrapper .percentage"),f=o.hasClass("loftloader-once")&&o.llpHasAnyClass(["loftloader-imgloading","loftloader-rainbow","loftloader-circlefilling","loftloader-waterfilling","loftloader-petals"]),u=c.hasClass("percentage")?"percentage":"bar";if(c=c.length?c:o.find(".bar .load"),Progress={status:!1,finishPause:800,$el:o,runDuration:350,current:0,imgLength:0,autoDuration:100,slot:100,progress:c,type:u,once:f,init:function(t){this.imgLength=void 0!==t&&t>0?t:1,this.slot=Math.ceil(100/this.imgLength)},start:function(){t("body").removeClass("loaded"),this.$el.prop("percentage",0),"percentage"==this.type?this.$el.text("0%"):this.$el.css("transform","scaleX(0)"),this.current=0},stop:function(){var t=this.finish;this.render(100,this.finishPause),setTimeout(function(){t()},this.finishPause+100)},update:function(t,e){this.current=e,this.render(t,this.runDuration)},render:function(t,e){var r=90*this.slot,a=this.current+1,o=this;e=void 0!==e&&r>e?e:r,100==t&&this.$el.stop(!0,!0).animate({percentage:t},{duration:e,easing:"swing",step:function(t){o.renderProgress(o,t)}}),a<this.imgLength?this.$el.animate({percentage:Math.floor(a/this.imgLength*100)},{duration:this.slot*this.autoDuration,easing:"swing",step:function(t){o.renderProgress(o,t)}}):this.imgLength<=2&&this.$el.animate({percentage:80},{duration:this.slot*this.autoDuration,easing:"swing",step:function(t){o.renderProgress(o,t)}})},renderProgress:function(e,r){var n=e.once,p=e.type,l=e.progress;if("percentage"==p?l.text(Math.ceil(r)+"%"):(l.css("transform","scaleX("+r/100+")"),l.next(".load-count").length&&(l.next(".load-count").text(Math.ceil(r)+"%"),llp_update_progress_count(r,l))),n)if(o.hasClass("loftloader-imgloading"))o.hasClass("imgloading-horizontal")?o.find("#loader span").css("width",r+"%"):o.find("#loader span").css("height",r+"%");else if(o.hasClass("loftloader-rainbow")){var s=1.8*r-180;a("loftloader_pro_once_rainbow","#loftloader-wrapper.loftloader-rainbow #loader span { -webkit-transform: rotate("+s+"deg); transform: rotate("+s+"deg); }")}else if(o.hasClass("loftloader-circlefilling")){a("loftloader_pro_once_circlefilling","#loftloader-wrapper.loftloader-circlefilling #loader span { -webkit-transform: scaleY("+(i=r/100)+"); transform: scaleY("+i+"); }")}else if(o.hasClass("loftloader-waterfilling")){var i,x=r-100;a("loftloader_pro_once_waterfilling","#loftloader-wrapper.loftloader-waterfilling #loader:before { -webkit-transform: scaleY("+s+"deg); transform: scaleY("+(i=r/100)+"); } #loftloader-wrapper.loftloader-waterfilling #loader span {-webkit-transform: translateY("+x+"%); transform: translateY("+x+"%); }")}else if(o.hasClass("loftloader-petals")){var d={petal0:"{box-shadow: 0 -15px 0 -15px transparent, 10.5px -10.5px 0 -15px transparent, 15px 0 0 -15px transparent, 10.5px 10.5px 0 -15px transparent, 0 15px 0 -15px transparent, -10.5px 10.5px 0 -15px transparent, -15px 0 0 -15px transparent, -10.5px -10.5px 0 -15px transparent;}",petal1:"{box-shadow: 0 -25px 0 -15px currentColor, 10.5px -10.5px 0 -15px transparent, 15px 0 0 -15px transparent, 10.5px 10.5px 0 -15px transparent, 0 15px 0 -15px transparent, -10.5px 10.5px 0 -15px transparent, -15px 0 0 -15px transparent, -10.5px -10.5px 0 -15px transparent;}",petal2:"{box-shadow: 0 -25px 0 -15px currentColor, 17.5px -17.5px 0 -15px currentColor, 15px 0 0 -15px transparent, 10.5px 10.5px 0 -15px transparent, 0 15px 0 -15px transparent, -10.5px 10.5px 0 -15px transparent, -15px 0 0 -15px transparent, -10.5px -10.5px 0 -15px transparent;}",petal3:"{box-shadow: 0 -25px 0 -15px currentColor, 17.5px -17.5px 0 -15px currentColor, 25px 0 0 -15px currentColor, 10.5px 10.5px 0 -15px transparent, 0 15px 0 -15px transparent, -10.5px 10.5px 0 -15px transparent, -15px 0 0 -15px transparent, -10.5px -10.5px 0 -15px transparent;}",petal4:"{box-shadow: 0 -25px 0 -15px currentColor, 17.5px -17.5px 0 -15px currentColor, 25px 0 0 -15px currentColor, 17.5px 17.5px 0 -15px currentColor, 0 15px 0 -15px transparent, -10.5px 10.5px 0 -15px transparent, -15px 0 0 -15px transparent, -10.5px -10.5px 0 -15px transparent;}",petal5:"{box-shadow: 0 -25px 0 -15px currentColor, 17.5px -17.5px 0 -15px currentColor, 25px 0 0 -15px currentColor, 17.5px 17.5px 0 -15px currentColor, 0 25px 0 -15px currentColor, -10.5px 10.5px 0 -15px transparent, -15px 0 0 -15px transparent, -10.5px -10.5px 0 -15px transparent;}",petal6:"{box-shadow: 0 -25px 0 -15px currentColor, 17.5px -17.5px 0 -15px currentColor, 25px 0 0 -15px currentColor, 17.5px 17.5px 0 -15px currentColor, 0 25px 0 -15px currentColor, -17.5px 17.5px 0 -15px currentColor, -15px 0 0 -15px transparent, -10.5px -10.5px 0 -15px transparent;}",petal7:"{box-shadow: 0 -25px 0 -15px currentColor, 17.5px -17.5px 0 -15px currentColor, 25px 0 0 -15px currentColor, 17.5px 17.5px 0 -15px currentColor, 0 25px 0 -15px currentColor, -17.5px 17.5px 0 -15px currentColor, -25px 0 0 -15px currentColor, -10.5px -10.5px 0 -15px transparent;}",petal8:"{box-shadow: 0 -25px 0 -15px currentColor, 17.5px -17.5px 0 -15px currentColor, 25px 0 0 -15px currentColor, 17.5px 17.5px 0 -15px currentColor, 0 25px 0 -15px currentColor, -17.5px 17.5px 0 -15px currentColor, -25px 0 0 -15px currentColor, -17.5px -17.5px 0 -15px currentColor;}"},c="",f={88:"petal7",75:"petal6",63:"petal5",50:"petal4",38:"petal3",25:"petal2",13:"petal1"};t.each([88,75,63,50,38,25,13],function(t,e){if(r>=e)return c=d[f[e]],!1}),a("loftloader_pro_once_petals","#loftloader-wrapper.loftloader-petals #loader span"+(c=0===r?d.petal0:r>98?d.petal8:c))}},finish:function(){t("body").addClass("loaded"),$inline_style=t("#loftloader-page-smooth-transition-bg"),$inline_style.length&&$inline_style.remove();var e=t("#loftloader-wrapper");e.hasClass("split-diagonally")&&e.find(".loader-bg").css("background","none")}},c.length||f){var h=t("body").waitForImages({waitForAll:!0,each:function(t,e){Progress.update(Math.ceil(t/e*100),t)},finished:function(){!i&&Progress.stop(),x=!1}});h.allImgsLength>0&&Progress.init(h.allImgsLength),s&&(h.allImgsLength>0?(1===h.allImgsLength&&Progress.update(50,1),setTimeout(function(){!x&&Progress.stop(),i=!1},s)):(Progress.finishPause=s,Progress.stop(),setTimeout(function(){i=!1},s)))}else t(window).load(function(){!i&&Progress.finish(),x=!1}),s&&setTimeout(function(){!x&&Progress.finish(),i=!1},s);t(document).ready(function(){var e,a=t("#loftloader-wrapper"),o="";a.data("show-close-time")&&(o=parseInt(a.data("show-close-time")))&&(setTimeout(function(){a.find(".loader-close-button").css("display","")},o),t(".loader-close-button").on("click",function(){Progress.finish()})),(e=t("#loftloader-wrapper")).attr("data-insite-transition")&&"on"==e.attr("data-insite-transition")&&e.attr("data-site-url")&&t("body a").each(function(){var e=t(this),a=e.attr("href");r(e)&&e.off("click").on("click",function(e){e.preventDefault(),t("body").addClass("leaves"),setTimeout(function(){window.location.href=a},550)})})})}}(jQuery);